<div class="mt-8 p-4 bg-gray-100 rounded-xl border-2 border-blue-900">
    <h3 class="text-lg font-bold text-blue-900 mb-4 uppercase text-center">Parecer do Relator</h3>
    
    <div class="space-y-2 mb-4">
        <label class="block text-sm font-bold text-gray-700">Voto do Relator:</label>
        <div class="grid grid-cols-2 gap-2">
            <label class="flex items-center p-2 bg-white border rounded">
                <input type="radio" name="voto" value="Deferimento" class="mr-2"> Deferimento
            </label>
            <label class="flex items-center p-2 bg-white border rounded">
                <input type="radio" name="voto" value="Indeferimento" class="mr-2"> Indeferimento
            </label>
            <label class="flex items-center p-2 bg-white border rounded">
                <input type="radio" name="voto" value="Manuten칞칚o" class="mr-2"> Manuten칞칚o
            </label>
            <label class="flex items-center p-2 bg-white border rounded">
                <input type="radio" name="voto" value="Cancelamento" class="mr-2"> Cancelamento
            </label>
        </div>
    </div>

    <div class="mb-4">
        <label class="block text-sm font-bold text-gray-700 flex justify-between">
            Fundamenta칞칚o do Voto
            <button type="button" id="btnVozVoto" class="text-blue-600 text-xs font-bold">游꿗 Ditar Fundamentos</button>
        </label>
        <textarea id="fundamentacao" rows="4" class="w-full p-2 border rounded mt-1" placeholder="Baseie seu voto nas evid칡ncias coletadas..."></textarea>
    </div>
</div>

<script type="module">
    // ... (Mantenha o c칩digo anterior e adicione esta l칩gica de salvamento)
    
    // L칩gica de Voz para Fundamenta칞칚o
    const btnVozVoto = document.getElementById('btnVozVoto');
    const campoFund = document.getElementById('fundamentacao');
    
    if ('webkitSpeechRecognition' in window) {
        const recognitionVoto = new webkitSpeechRecognition();
        recognitionVoto.lang = 'pt-BR';
        btnVozVoto.onclick = () => recognitionVoto.start();
        recognitionVoto.onresult = (e) => campoFund.value += e.results[0][0].transcript;
    }

    // Atualiza칞칚o do salvamento (incluindo o voto)
    document.getElementById('formFiscalizacao').addEventListener('submit', async (e) => {
        // ... (l칩gica da foto j치 criada)
        const votoSelecionado = document.querySelector('input[name="voto"]:checked')?.value;
        
        await addDoc(collection(db, "fiscalizacoes"), {
            // ... (campos anteriores)
            voto: votoSelecionado,
            fundamentacao: campoFund.value,
            data_voto: new Date().toISOString()
        });
    });
</script>
